---
import BaseLayout from '../../layouts/BaseLayout.astro';
import DentistCard from '../../components/DentistCard.astro';
import LeadForm from '../../components/LeadForm.astro';

export async function getStaticPaths() {
  const { dentists } = await import('../../data/dentists.json');
  return dentists.map(dentist => ({
    params: { dentist: dentist.name.replace(/ /g, '-').toLowerCase() },
    props: { dentist }
  }));
}

const { dentist } = Astro.props;
---

<BaseLayout>
  <div class="dentist-detail">
    <a href="/" class="back-button">&larr; Back to All Dentists</a>
    <h1>{dentist.name}</h1>
    <div class="dentist-bio">
      <p>Dr. {dentist.name.split(' ')[0]} is a highly skilled dental professional with over 15 years of experience in {dentist.specialties.join(', ')}. Known for their gentle approach and attention to detail, Dr. {dentist.name.split(' ')[0]} is committed to providing the highest quality care to all patients.</p>
    </div>
    <div class="dentist-info">
      <div class="info-column">
        <div class="dentist-image">
          <img src="https://placehold.co/400?text=Dentist+Photo" alt="Dentist Photo" />
        </div>
        <div class="specialties">
          <h2>Specialties</h2>
          <ul>
            {dentist.specialties.map(specialty => (
              <li>{specialty}</li>
            ))}
          </ul>
        </div>
        
        <div class="education">
          <h2>Education & Certifications</h2>
          <ul>
            <li>Doctor of Dental Surgery (DDS)</li>
            <li>Certified in Advanced Cosmetic Dentistry</li>
            <li>Member of the American Dental Association</li>
          </ul>
        </div>
        
        <div class="testimonials">
          <h2>What Patients Say</h2>
          <div class="testimonial">
            <p>"Dr. {dentist.name.split(' ')[0]} is amazing! They made me feel completely at ease during my procedure."</p>
            <span>- Sarah T.</span>
          </div>
          <div class="testimonial">
            <p>"The office is beautiful and the staff is so friendly. I highly recommend Dr. {dentist.name.split(' ')[0]}!"</p>
            <span>- Michael R.</span>
          </div>
        </div>
      </div>
      
      <div class="form-column">
        <div class="contact-form">
          <LeadForm dentist={dentist} />
        </div>
        
        <div class="office-info">
          <h2>Office Hours</h2>
          <ul>
            <li>Monday - Friday: 8am - 5pm</li>
            <li>Saturday: 9am - 2pm</li>
            <li>Sunday: Closed</li>
          </ul>
          
          <h2>Location</h2>
          <p>123 Main Street<br/>
          Suite 400<br/>
          San Francisco, CA 94105</p>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>

<style>
  .dentist-detail {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
  }
  
  .dentist-info {
    display: flex;
    gap: 2rem;
    margin-top: 2rem;
  }
  
  .info-column {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }
  
  .form-column {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }
  
  .specialties ul {
    list-style: none;
    padding: 0;
  }
  
  .specialties li {
    padding: 0.5rem 0;
    border-bottom: 1px solid #eee;
  }

  /* .contact-form {
    margin-top: 2rem;
  } */

  .form-group {
    margin-bottom: 1.5rem;
  }

  .form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #333;
  }

  .form-group input,
  .form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
  }

  .form-group textarea {
    resize: vertical;
    min-height: 120px;
  }

  button[type="submit"] {
    background: #007bff;
    color: white;
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    transition: background 0.2s;
  }

  button[type="submit"]:hover {
    background: #0056b3;
  }
</style>
